*, *::before, *::after {
    box-sizing: border-box;
}

:root {
    --clr-dark: rgb(13, 17, 19);
    --clr-light: #fff;
    --clr-accent: rgb(222, 52, 0);
    --clr-accent-dark: rgb(163, 38, 0);
    --clr-secondary: rgb(0, 76, 199);
    --clr-door: #4f77ff;

    --br: .5em;

    --transition_bez: transform 200ms cubic-bezier(.21, 1.00, .81, 1.0), background-color 120ms linear;

    /* (misc.html) Change size of door and steps just by changing --door-width */
    --door-width: 150px;
    --door-height: calc(var(--door-width) * 1.5);
    --step-height: calc(var(--door-width) * 0.2);
    --step-width: calc(var(--door-width) - var(--step-height));
}

body {
    font-family: sans-serif;
    min-height: 100vh;
    display: grid;
    place-items: center;
    background: var(--clr-dark);
    color: var(--clr-light);
}

h1, h2, h3, p {
    margin: 0;
}

img {
    max-width: 100%;
}

.btn {
    cursor: pointer;
    border: 0;
    background: var(--clr-secondary);
    border-radius: 100vw;
    color: var(--clr-light);
    font-weight: bold;
    padding: 0.5em 2em;
    transition: background-color 75ms linear, margin 75ms linear, box-shadow 75ms linear;


    &:hover {
        margin-top: -3px;
        margin-bottom: 3px;
        background: var(--clr-accent-dark);
        box-shadow: 0px 3px var(--clr-dark);
    }
}

.glyph::before {
    display: inline-block;
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    font-style: normal;
    font-variant: normal;
    text-rendering: auto;
    -webkit-font-smoothing: antialiased;
}

.game {
    position: relative;
    width: 12.5em;
    cursor: pointer;

    &:hover {
        .rank {
            background: rgba(128, 69, 69, .5);
            transform: translate(140%, -25%) scale(1.2);
        }

        .front{
            transform: translateY(-30%) scale(.8);

            .name {
                font-weight: bold;
                font-style: italic;
                animation: gameName 450ms forwards;
            }

            .stats {
                opacity: 0;
            }
        }

        .back {
            opacity: 1;
            transition: transform 250ms ease, opacity 200ms linear;
            transform: translateY(0);

            .streamers {
                width: 100%;
                justify-content: space-between;
            }

            .streamer {
                font-size: .9rem;
                &:hover {
                    transform: scale(1.1);
                    transition: transform 100ms ease-in-out;
                }

                &:hover .icon {
                    transform: translateY(-15%) scale(1.2);
                    &::before, &::after {
                        opacity: 1;
                    }
                }
            }

            .g-name {
                font-weight: bold;
            }
        }

        .background {
            transition: var(--transition_bez), opacity 100ms linear;
            opacity: 1;
            transform: scale(1.35, 1.2) translateY(5%);
        }
    }

    .background {
        background: rgb(40, 46, 54);
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: -1;
        transform: scale(.2, .9);
        opacity: 0;
        border-radius: var(--br);
        overflow: hidden;

        img {
            background-color: var(--clr-dark);
            opacity: .2;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            padding-right: -50%;
            width: 100%;
            animation: wave linear 3s infinite;
            object-fit: cover;
            object-position: top center;
        }
    }
}

.streamerinfo, .streamers {
    display: flex;
    text-align: center;

    & img {
        border-radius: 50%;
        width: 2em;
        height: 2em;
    }
}

.icon {
    display: inline-block;
    width: 2em;
    height: 2em;
    position: relative;
    transition: transform ease-in-out 100ms;

    &::before ,
    &::after {
        opacity: 0;
        content: "";
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border-radius: 50%;
    }

    &::before {
        content: "\f04b";
        font-family: "Font Awesome 5 Free";
        font-weight: 900;
        font-size: 0.65em;
        background: #f00;
        display: grid;
        place-items: center;
        z-index: 10;
        transition: opacity 75ms linear, background-color 120ms linear;
    }

    &:hover::after {
        /*outline: 1px solid var(--clr-light);*/
        animation: pulse 1000ms infinite;
        background: #f00;
        z-index: 1;
    }
}

@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 0.9;
    }
    100% {
        transform: scale(1.45);
        opacity: 0;
    }
}

.rank {
    position: absolute;
    top: 0;
    right: 1em;
    z-index: 1000;
    font-weight: bold;
    font-size: 1.125rem;
    background: rgba(0, 0, 0, .55);
    padding: .5em .5em .75em;
    clip-path: polygon(100% 0%, 100% 100%, 50% 85%, 0 100%, 0 0);
    transition: var(--transition_bez);
}

.front {
    transition: 250ms;

    .thumbnail {
        border-radius: var(--br);
    }

    .name {
        font-weight: 100;
        margin: .75em 0;
    }

    .stats {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .viewers {
        display: flex;
        align-items: center
    }

    .viewers::before {
        content: "\f007";
        color: rgba(255, 255, 255, 0.75);
        font-size: 0.75em;
        margin-right: 0.5em;
    }

    .streamerinfo img {
        border: 1px solid var(--clr-dark);

        &:nth-of-type(1) {
            transform: translateX(50%);
            z-index: 1;
        }
        &:nth-of-type(2) {
            transform: translateX(25%);
        }
    }
}

.back {
    opacity: 0;
    position: absolute;
    top: 60%;
    left: 0;
    right: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5em;
    transform: scale(1.1) translateY(-25%);

    .streaming-info {
        columns: 2;
        column-rule: 1px solid rgba(255, 255, 255, .25)
    }

    .game-stat {
        font-size: 1.125rem;
        text-align: center;

        span {
            font-size: .85rem;
            display: block;
        }
    }
}

@keyframes wave {
    0% {
        clip-path: polygon(200% 0, 200% 100%, 150% 90%, 100% 100%, 50% 90%, 0 100%, 0 0);
    }
    100% {
        clip-path: polygon(100% 0, 100% 100%, 50% 90%, 0 100%, -50% 90%, -150% 100%, 0 0);
    }
}

@keyframes gameName {
    0% {
        text-align: left;
        opacity: 0;
    }

    20% {
        text-align: center;
        opacity: 0;
    }

    50% {
        text-align: center;
        opacity: 1;
    }

    100% {
        text-align: center;
        opacity: 1;
        transform: scale(1.5);
    }
}

.door {
    display: flex;
    flex-direction: column;
    justify-content: end;
    align-items: flex-end;
    width: var(--door-width);
    height: var(--door-height);
    background: var(--clr-door);
    background: linear-gradient(69deg, var(--clr-door) 0%, rgba(253,187,45,1) 100%), linear-gradient(270deg, rgba(2,0,36,0) 0%, rgba(9,9,121,0.5) 20%, rgba(0,212,255,1) 100%);
    border-radius: 100vw 100vw 0 0;

    & .step {
        margin-top: calc(var(--door-width) * 0.03);
        width: calc(var(--step-width) - (var(--step-height) * 3));
        height: var(--step-height);
        background: var(--clr-dark);
        transition: background 150ms linear;

        &:hover {
            background: orange;
        }

        &.a {
            width: calc(var(--step-width) - (var(--step-height) * 2));
        }
        &.b {
            width: calc(var(--step-width) - var(--step-height));
        }
        &.c {
            width: var(--step-width);
        }
    }
}

.lock {
    position: relative;

    &::after {
        background-color: #fff;
        color: red;
        border-radius: 50%;
        content: "\f023";
        font-family: "Font Awesome 5 Free";
        font-weight: 900;
        font-size: 1rem;
        position: absolute;
        bottom: 1em;
        right: 1em;
        display: grid;
        place-items: center;
        width: 3em;
        height: 3em;
        box-shadow: 2px 2px 2px rgba(0, 0, 0, .2)
    }
}
